---
import BaseLayout from "../layouts/BaseLayout.astro";
import { storeProducts } from "../data/store.js";
---

<BaseLayout title="Store">
  <div class="min-h-[calc(100vh-12rem)] flex flex-col">
    <h1 class="text-xs uppercase tracking-[0.25em] mb-12 text-gray-400 font-light">Store</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
      {storeProducts.map((product) => (
        <div class="group block relative rounded-lg transition-all duration-300 hover:scale-105 bg-gradient-to-br from-gray-900 to-black shadow-lg">
          
          <!-- Product Image -->
          <div class="relative w-full h-64">
            <img 
              src={product.image} 
              alt={product.name}
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 opacity-80 group-hover:opacity-100"
            />
          </div>
          
          <!-- Product Info -->
          <div class="p-6">
            <h2 class="text-xs font-light mb-2 text-white tracking-wide">
              {product.name}
            </h2>
            <p class="text-gray-400 text-xs mb-4 line-clamp-2 leading-relaxed">
              {product.description}
            </p>
            <p class="text-white text-base font-light mb-4">
              ${product.price.toFixed(2)}
            </p>
            
            <!-- Snipcart Buy Button -->
            <button
              type="button"
              class="snipcart-add-item w-full py-2.5 uppercase tracking-[0.15em] text-xs border border-gray-600 text-gray-300 hover:border-white hover:text-white transition-all duration-200"
              data-item-id={product.id}
              data-item-price={product.price}
              data-item-url="/store"
              data-item-description={product.description}
              data-item-image={product.image}
              data-item-name={product.name}
              data-item-custom1-name="Size"
              data-item-custom1-options={product.sizes.join('|')}
              data-item-custom1-required="true"
            >
              Add to Cart
            </button>
          </div>
        </div>
      ))}
    </div>
  </div>
</BaseLayout>

